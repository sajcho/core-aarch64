# Description:	Easily download, build, install, upgrade, and uninstall Python packages.
# URL:		https://pypi.python.org/pypi/setuptools
# Maintainer:	Danny Rawlins, crux at romster dot me
# Depends on:	python
# Modified:	Milan Buska, milan dot buska at gmail dot com

name=python-setuptools
version=49.1.0
release=1
source=(https://github.com/pypa/setuptools/archive/v$version.tar.gz)

build() {
	cd ${name#*-}-$version

	export SETUPTOOLS_INSTALL_WINDOWS_SPECIFIC_FILES=0

	# Fix post-release tag
	sed -e '/tag_build = .post/d' \
		-e '/tag_date = 1/d' \
		-i setup.cfg

	/usr/bin/python bootstrap.py
	/usr/bin/python setup.py build

	/usr/bin/python setup.py install \
				--prefix=/usr \
				--root=$PKG \
				--optimize=1

	rm $PKG/usr/bin/easy_install
}
